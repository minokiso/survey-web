import{_ as t,r as e,a as i,b as s,c as a}from"./uni-title.64aeabeb.js";import{B as r,C as l,D as o,X as d,H as n,I as c,J as h,K as u,F as g,Q as p,L as f,M as _,N as m,$ as y,G as b,E as x,R as w,P as k,O as v}from"./index-3fe01111.js";const C=t({name:"UniCard",emits:["click"],props:{title:{type:String,default:""},subTitle:{type:String,default:""},padding:{type:String,default:"10px"},margin:{type:String,default:"15px"},spacing:{type:String,default:"0 10px"},extra:{type:String,default:""},cover:{type:String,default:""},thumbnail:{type:String,default:""},isFull:{type:Boolean,default:!1},isShadow:{type:Boolean,default:!0},shadow:{type:String,default:"0px 0px 3px 1px rgba(0, 0, 0, 0.08)"},border:{type:Boolean,default:!0}},methods:{onClick(t){this.$emit("click",t)}}},[["render",function(t,e,i,s,a,y){const b=f,x=_,w=m;return r(),l(x,{class:p(["uni-card",{"uni-card--full":i.isFull,"uni-card--shadow":i.isShadow,"uni-card--border":i.border}]),style:g({margin:i.isFull?0:i.margin,padding:i.spacing,"box-shadow":i.isShadow?i.shadow:""})},{default:o((()=>[d(t.$slots,"cover",{},(()=>[i.cover?(r(),l(x,{key:0,class:"uni-card__cover"},{default:o((()=>[n(b,{class:"uni-card__cover-image",mode:"widthFix",onClick:e[0]||(e[0]=t=>y.onClick("cover")),src:i.cover},null,8,["src"])])),_:1})):c("",!0)]),!0),d(t.$slots,"title",{},(()=>[i.title||i.extra?(r(),l(x,{key:0,class:"uni-card__header"},{default:o((()=>[n(x,{class:"uni-card__header-box",onClick:e[1]||(e[1]=t=>y.onClick("title"))},{default:o((()=>[i.thumbnail?(r(),l(x,{key:0,class:"uni-card__header-avatar"},{default:o((()=>[n(b,{class:"uni-card__header-avatar-image",src:i.thumbnail,mode:"aspectFit"},null,8,["src"])])),_:1})):c("",!0),n(x,{class:"uni-card__header-content"},{default:o((()=>[n(w,{class:"uni-card__header-content-title uni-ellipsis"},{default:o((()=>[h(u(i.title),1)])),_:1}),i.title&&i.subTitle?(r(),l(w,{key:0,class:"uni-card__header-content-subtitle uni-ellipsis"},{default:o((()=>[h(u(i.subTitle),1)])),_:1})):c("",!0)])),_:1})])),_:1}),n(x,{class:"uni-card__header-extra",onClick:e[2]||(e[2]=t=>y.onClick("extra"))},{default:o((()=>[d(t.$slots,"extra",{},(()=>[n(w,{class:"uni-card__header-extra-text"},{default:o((()=>[h(u(i.extra),1)])),_:1})]),!0)])),_:3})])),_:3})):c("",!0)]),!0),n(x,{class:"uni-card__content",style:g({padding:i.padding}),onClick:e[3]||(e[3]=t=>y.onClick("content"))},{default:o((()=>[d(t.$slots,"default",{},void 0,!0)])),_:3},8,["style"]),n(x,{class:"uni-card__actions",onClick:e[4]||(e[4]=t=>y.onClick("actions"))},{default:o((()=>[d(t.$slots,"actions",{},void 0,!0)])),_:3})])),_:3},8,["class","style"])}],["__scopeId","data-v-ae4d341c"]]);const z=t({name:"UniGridItem",inject:["grid"],props:{index:{type:Number,default:0}},data:()=>({column:0,showBorder:!0,square:!0,highlight:!0,left:0,top:0,openNum:2,width:0,borderColor:"#e5e5e5"}),created(){this.column=this.grid.column,this.showBorder=this.grid.showBorder,this.square=this.grid.square,this.highlight=this.grid.highlight,this.top=0===this.hor?this.grid.hor:this.hor,this.left=0===this.ver?this.grid.ver:this.ver,this.borderColor=this.grid.borderColor,this.grid.children.push(this),this.width=this.grid.width},beforeDestroy(){this.grid.children.forEach(((t,e)=>{t===this&&this.grid.children.splice(e,1)}))},methods:{_onClick(){this.grid.change({detail:{index:this.index}})}}},[["render",function(t,e,i,s,a,h){const u=_;return a.width?(r(),l(u,{key:0,style:g("width:"+a.width+";"+(a.square?"height:"+a.width:"")),class:"uni-grid-item"},{default:o((()=>[n(u,{class:p([{"uni-grid-item--border":a.showBorder,"uni-grid-item--border-top":a.showBorder&&i.index<a.column,"uni-highlight":a.highlight},"uni-grid-item__box"]),style:g({"border-right-color":a.borderColor,"border-bottom-color":a.borderColor,"border-top-color":a.borderColor}),onClick:h._onClick},{default:o((()=>[d(t.$slots,"default",{},void 0,!0)])),_:3},8,["class","style","onClick"])])),_:3},8,["style"])):c("",!0)}],["__scopeId","data-v-2c119250"]]);const S=t({name:"UniGrid",emits:["change"],props:{column:{type:Number,default:3},showBorder:{type:Boolean,default:!0},borderColor:{type:String,default:"#D2D2D2"},square:{type:Boolean,default:!0},highlight:{type:Boolean,default:!0}},provide(){return{grid:this}},data:()=>({elId:`Uni_${Math.ceil(1e6*Math.random()).toString(36)}`,width:0}),created(){this.children=[]},mounted(){this.$nextTick((()=>{this.init()}))},methods:{init(){setTimeout((()=>{this._getSize((t=>{this.children.forEach(((e,i)=>{e.width=t}))}))}),50)},change(t){this.$emit("change",t)},_getSize(t){y().in(this).select(`#${this.elId}`).boundingClientRect().exec((e=>{this.width=parseInt((e[0].width-1)/this.column)+"px",t(this.width)}))}}},[["render",function(t,e,i,s,a,c){const h=_;return r(),l(h,{class:"uni-grid-wrap"},{default:o((()=>[n(h,{id:a.elId,ref:"uni-grid",class:p(["uni-grid",{"uni-grid--border":i.showBorder}]),style:g({"border-left-color":i.borderColor})},{default:o((()=>[d(t.$slots,"default",{},void 0,!0)])),_:3},8,["id","class","style"])])),_:3})}],["__scopeId","data-v-26adf091"]]);const T=t({data:()=>({tizhis:[],productUrl:"/static/product.jpg",tizhi:null}),methods:{messageToggle(t,e){this.msgType=t,this.messageText=e,this.$refs.message.open()},getTopTizhi(t){const e=Math.max(...Object.values(t).map((t=>t.conversion)));for(let i of Object.keys(t))t[i].conversion===e&&this.tizhis.push(i)},selectTizhi(t){let{index:e}=t.detail;this.tizhi=this.tizhis[e],console.log(this.tizhi),this.$refs.alertDialog.close()}},onLoad:function(t){this.result=JSON.parse(t.result)},onReady:function(){this.getTopTizhi(this.result),console.log(this.tizhis),1===this.tizhis.length?this.tizhi=this.tizhis[0]:this.$refs.alertDialog.open()}},[["render",function(t,d,c,g,p,f){const y=e(v("uni-popup-message"),i),T=e(v("uni-popup"),s),$=e(v("uni-title"),a),B=m,I=e(v("uni-card"),C),D=_,j=e(v("uni-grid-item"),z),F=e(v("uni-grid"),S);return r(),l(D,{class:"container"},{default:o((()=>[n(T,{ref:"message",type:"message"},{default:o((()=>[n(y,{type:t.msgType,message:t.messageText,duration:2e3},null,8,["type","message"])])),_:1},512),n($,{type:"h1",title:"中医体质问卷表（中医学会标准）",align:"center"}),n($,{type:"h2",title:"谢谢您在百忙之中完成这份问卷！",align:"center"}),n($,{type:"h2",title:"您的体质分析如下:",align:"center"}),b("p",{class:"result"},[h(" 您的体质为： "),b("span",{class:"tizhi"},u(p.tizhi),1)]),n($,{type:"h2",title:"为您推荐如下产品：",align:"center"}),b("div",{style:{display:"flex","flex-direction":"column","align-items":"center"}},[n(I,{cover:p.productUrl,style:{width:"fit-content","background-color":"#cc6e3f"}},{default:o((()=>[n(B,{style:{color:"white"}},{default:o((()=>[h("“茗九源”纳米穴位敷贴（平和质）")])),_:1})])),_:1},8,["cover"])]),n(T,{ref:"alertDialog",type:"dialog","mask-click":!1,"mask-background-color":"#a65037"},{default:o((()=>[b("div",{style:{width:"400px","background-color":"#a65037",display:"flex","flex-direction":"column","justify-content":"center"}},[b("div",{style:{color:"white","margin-bottom":"20px"}},"以下是您的潜在体质，请您进行选择："),n(F,{column:4,highlight:!0,onChange:f.selectTizhi},{default:o((()=>[(r(!0),x(k,null,w(p.tizhis,((t,e)=>(r(),l(j,{index:e,key:e},{default:o((()=>[n(D,{class:"grid-item-box",style:{"background-color":"#a6745c"}},{default:o((()=>[n(B,{class:"text",style:{color:"white"}},{default:o((()=>[h(u(t),1)])),_:2},1024)])),_:2},1024)])),_:2},1032,["index"])))),128))])),_:1},8,["onChange"])])])),_:1},512)])),_:1})}],["__scopeId","data-v-880d0a7d"]]);export{T as default};
