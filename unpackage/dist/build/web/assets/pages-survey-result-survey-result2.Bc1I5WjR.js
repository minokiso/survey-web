import{_ as e,a as i,b as t}from"./uni-title.DlkxeczR.js";import{o as r,c as s,w as a,a as o,S as l,M as n,Z as d,N as h,i as c,a0 as g,Q as u,b as p,d as m,O as f,L as y,T as b,R as x,e as v,P as w}from"./index-B3RMsxjh.js";import{r as z}from"./uni-app.es.EYBdlqEP.js";import{_}from"./uni-tag.BYEt_w6J.js";import{_ as k}from"./_plugin-vue_export-helper.BCo6x5W8.js";const C=k({name:"UniGridItem",inject:["grid"],props:{index:{type:Number,default:0}},data:()=>({column:0,showBorder:!0,square:!0,highlight:!0,left:0,top:0,openNum:2,width:0,borderColor:"#e5e5e5"}),created(){this.column=this.grid.column,this.showBorder=this.grid.showBorder,this.square=this.grid.square,this.highlight=this.grid.highlight,this.top=0===this.hor?this.grid.hor:this.hor,this.left=0===this.ver?this.grid.ver:this.ver,this.borderColor=this.grid.borderColor,this.grid.children.push(this),this.width=this.grid.width},beforeDestroy(){this.grid.children.forEach(((e,i)=>{e===this&&this.grid.children.splice(i,1)}))},methods:{_onClick(){this.grid.change({detail:{index:this.index}})}}},[["render",function(e,i,t,g,u,p){const m=c;return u.width?(r(),s(m,{key:0,style:n("width:"+u.width+";"+(u.square?"height:"+u.width:"")),class:"uni-grid-item"},{default:a((()=>[o(m,{class:l([{"uni-grid-item--border":u.showBorder,"uni-grid-item--border-top":u.showBorder&&t.index<u.column,"uni-highlight":u.highlight},"uni-grid-item__box"]),style:n({"border-right-color":u.borderColor,"border-bottom-color":u.borderColor,"border-top-color":u.borderColor}),onClick:p._onClick},{default:a((()=>[d(e.$slots,"default",{},void 0,!0)])),_:3},8,["class","style","onClick"])])),_:3},8,["style"])):h("",!0)}],["__scopeId","data-v-2c119250"]]);const T=k({name:"UniGrid",emits:["change"],props:{column:{type:Number,default:3},showBorder:{type:Boolean,default:!0},borderColor:{type:String,default:"#D2D2D2"},square:{type:Boolean,default:!0},highlight:{type:Boolean,default:!0}},provide(){return{grid:this}},data:()=>({elId:`Uni_${Math.ceil(1e6*Math.random()).toString(36)}`,width:0}),created(){this.children=[]},mounted(){this.$nextTick((()=>{this.init()}))},methods:{init(){setTimeout((()=>{this._getSize((e=>{this.children.forEach(((i,t)=>{i.width=e}))}))}),50)},change(e){this.$emit("change",e)},_getSize(e){g().in(this).select(`#${this.elId}`).boundingClientRect().exec((i=>{this.width=parseInt((i[0].width-1)/this.column)+"px",e(this.width)}))}}},[["render",function(e,i,t,h,g,u){const p=c;return r(),s(p,{class:"uni-grid-wrap"},{default:a((()=>[o(p,{id:g.elId,ref:"uni-grid",class:l(["uni-grid",{"uni-grid--border":t.showBorder}]),style:n({"border-left-color":t.borderColor})},{default:a((()=>[d(e.$slots,"default",{},void 0,!0)])),_:3},8,["id","class","style"])])),_:3})}],["__scopeId","data-v-26adf091"]]);const B=k({data:()=>({tizhis:[],productMap:{"气虚质":[{name:"纳米中药穴位敷贴（日常贴）",abbr:"日常性纳米敷贴（气虚质）",image:"/static/product2.png",tizhi:"气虚质",efficacy:"日常抗疲劳，提高记忆思考能力",env:"日常保健"},{name:"纳米中药穴位敷贴（运动贴）",abbr:"运动性纳米敷贴（气虚质）",image:"/static/product2.png",tizhi:"气虚质",efficacy:"运动性疲劳，减少运动损伤",env:"运动前后保健"},{name:"纳米多功能智能药枕",abbr:"纳米多功能智能药枕",image:"/static/product3.png",tizhi:"均可",efficacy:"益智安神，改善睡眠",env:"夜间睡眠"}],"气郁质":[{name:"纳米中药穴位敷贴（日常贴）",abbr:"日常性纳米敷贴（气郁质）",image:"/static/product2.png",tizhi:"气郁质",efficacy:"日常抗疲劳，提高记忆思考能力",env:"日常保健"},{name:"纳米中药穴位敷贴（运动贴）",abbr:"运动性纳米敷贴（气郁质）",image:"/static/product2.png",tizhi:"气郁质",efficacy:"运动性疲劳，减少运动损伤",env:"运动前后保健"},{name:"纳米多功能智能药枕",abbr:"纳米多功能智能药枕",image:"/static/product3.png",tizhi:"均可",efficacy:"益智安神，改善睡眠",env:"夜间睡眠"}],"痰湿质":[{name:"纳米中药穴位敷贴（日常贴）",abbr:"日常性纳米敷贴（痰湿质）",image:"/static/product2.png",tizhi:"痰湿质",efficacy:"日常抗疲劳，提高记忆思考能力",env:"日常保健"},{name:"纳米中药穴位敷贴（运动贴）",abbr:"运动性纳米敷贴（痰湿质）",image:"/static/product2.png",tizhi:"痰湿质",efficacy:"运动性疲劳，减少运动损伤",env:"运动前后保健"},{name:"纳米多功能智能药枕",abbr:"纳米多功能智能药枕",image:"/static/product3.png",tizhi:"均可",efficacy:"益智安神，改善睡眠",env:"夜间睡眠"}]},tizhi:null}),methods:{messageToggle(e,i){this.msgType=e,this.messageText=i,this.$refs.message.open()},getTopTizhi(e){const i=Math.max(...Object.values(e).map((e=>e.conversion)));for(let t of Object.keys(e))e[t].conversion===i&&this.tizhis.push(t)},selectTizhi(e){let{index:i}=e.detail;this.tizhi=this.tizhis[i],console.log(this.tizhi),this.$refs.alertDialog.close()}},onLoad:function(e){this.result=JSON.parse(e.result)},onReady:function(){this.getTopTizhi(this.result),console.log(this.tizhis),1===this.tizhis.length?this.tizhi=this.tizhis[0]:this.$refs.alertDialog.open()}},[["render",function(l,n,d,h,g,k){const B=z(u("uni-popup-message"),e),j=z(u("uni-popup"),i),$=z(u("uni-title"),t),I=v,D=z(u("uni-tag"),_),M=w,S=c,q=z(u("uni-grid-item"),C),N=z(u("uni-grid"),T);return r(),s(S,{class:"container"},{default:a((()=>[o(j,{ref:"message",type:"message"},{default:a((()=>[o(B,{type:l.msgType,message:l.messageText,duration:2e3},null,8,["type","message"])])),_:1},512),o($,{type:"h1",title:"中医体质问卷表（中医学会标准）",align:"center"}),o($,{type:"h2",title:"谢谢您在百忙之中完成这份问卷！",align:"center"}),o($,{type:"h2",title:"您的体质分析如下:",align:"center"}),p("p",{class:"result"},[m(" 您的体质为： "),p("span",{class:"tizhi"},f(g.tizhi),1)]),o($,{type:"h2",title:"为您推荐如下产品：",align:"center"}),p("div",{style:{display:"flex","flex-direction":"column","align-items":"center","max-width":"500px",margin:"auto"}},[(r(!0),y(x,null,b(g.productMap[g.tizhi],(e=>(r(),y("div",{style:{"background-color":"#cc6e3f",color:"white",margin:"1rem",border:"2px white solid","border-radius":"1rem",width:"100%"}},[p("div",{style:{"text-align":"center",margin:"0.5rem","border-bottom":"white 1px solid"}},f(e.name),1),p("div",{style:{display:"flex",margin:"1rem",gap:"0.5rem"}},[o(I,{src:e.image,mode:"aspectFill",style:{flex:"0.3",height:"auto"}},null,8,["src"]),p("div",{style:{flex:"0.7",display:"flex","flex-direction":"column","row-gap":"0.5rem"}},[p("div",null,f(e.abbr),1),p("div",{style:{display:"flex",gap:"1rem"}},[o(D,{circle:!0,text:e.tizhi,type:"error",inverted:!0},null,8,["text"]),o(D,{circle:!0,text:e.env,type:"error",inverted:!0},null,8,["text"])]),p("div",null,f(e.efficacy),1)])])])))),256))]),o(j,{ref:"alertDialog",type:"dialog","mask-click":!1,"mask-background-color":"#a65037"},{default:a((()=>[p("div",{style:{width:"400px","background-color":"#a65037",display:"flex","flex-direction":"column","justify-content":"center"}},[p("div",{style:{color:"white","margin-bottom":"20px"}},"以下是您的潜在体质，请您进行选择："),o(N,{column:4,highlight:!0,onChange:k.selectTizhi},{default:a((()=>[(r(!0),y(x,null,b(g.tizhis,((e,i)=>(r(),s(q,{index:i,key:i},{default:a((()=>[o(S,{class:"grid-item-box",style:{"background-color":"#a6745c"}},{default:a((()=>[o(M,{class:"text",style:{color:"white"}},{default:a((()=>[m(f(e),1)])),_:2},1024)])),_:2},1024)])),_:2},1032,["index"])))),128))])),_:1},8,["onChange"])])])),_:1},512)])),_:1})}],["__scopeId","data-v-9092eee3"]]);export{B as default};
